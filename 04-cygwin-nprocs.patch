--- origsrc/avidemux_2.6.0/avidemux_core/ADM_core/src/ADM_cpuCap.cpp	2012-07-24 06:32:57.000000000 -0500
+++ src/avidemux_2.6.0/avidemux_core/ADM_core/src/ADM_cpuCap.cpp	2012-09-23 22:42:16.757036500 -0500
@@ -18,6 +18,7 @@
 #include <sys/types.h>
 #include <sys/sysctl.h>
 #else
+#include <unistd.h>
 #include <string.h>
 #include <sched.h>
 #endif
@@ -161,6 +162,8 @@ int ADM_cpu_num_processors(void)
         np = 1;
 
     return np;
+#elif defined(_SC_NPROCESSORS_ONLN)
+    return sysconf(_SC_NPROCESSORS_ONLN);
 #elif defined(__unix__) && !defined(__CYGWIN__)
     unsigned int bit;
     int np;
